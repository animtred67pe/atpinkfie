<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="index.css">
		<link rel="stylesheet" type="text/css" href="pinkfie.css">
        <title>PinkFie - Flash Player Emulator</title>
		<script>
		  // Apply local dark mode preference very early to avoid a flash of white
		  (function() {
			try {
			  if (localStorage.getItem('userPrefersDark') === 'true') {
				document.documentElement.classList.add('dark');
			  }
			} catch (e) {
			  console.log('error loading theme choice', e);
			}
		  }());
		</script>
    </head>
    <body>
		<div class="theme-select">
		  <a class="switch-theme">switch theme</a>
		</div>
		<div class="app">
			<h1>PinkFie<span class="version"></span></h1>
			<p>The Flash Player emulator in Javascript, is still in development.</p>
			<div style="position: relative;">
				<a id="loadswffile">Open .swf</a>
				<a id="ssag2">Close</a>
				<label id="ggtitle5"></label>
			</div>
			<div id="pinkfiestage" style="display: none;">
				<div id="pinkfieplayerarea"></div>
				<a id="viewbbb2">Play/Pause</a>
				<a id="viewbbb3">Settings</a>
				<label>volume:</label>
				<input type="range" id="fvolumeff" max="100" min="0" value="100" style="width: 120px">
			</div>
			<div id="demo" style="display: none;"></div>
			<div id="pinkfiemenu">
				<label>or </label>
				<a id="clickswfe">SWF Examples</a>
				<div id="swfeArea"></div>
				<ul>
					<li><a href="demo.html">Player</a></li>
					<li><a href="app.html">app.html</a></li>
					<li><a href="packager.html">HTML Packager</a></li>
					<li><a href="swfreader.html">Swf Reader Preview</a></li>
					<li><a href="swfpreview.html">Swf Preview [Beta]</a></li>
					<li><a href="videopreview.html">PinkFie Video Decoder</a></li>
					<li><a href="fierainbow.html">F_I_E R_A_I_N_B_O_W</a></li>
					<li><a id="downloadoldpinkfie">Download PinkFie versions</a></li>
					<li><a href="https://scratch.mit.edu/projects/1025145662/" target="_blank">Feedback</a></li>
					<li><a href="about.html">credits</a></li>
					<li><a href="https://animtred67pe.github.io/pinkfie-v2/">New version PinkFie v2</a></li>
				</ul>
			</div>
			<section>
				<p>PinkFie source code available on <a href="https://github.com/animtred67pe/atpinkfie">GitHub.</a></p>
				<p style="color: #888;">created by <a style="color: #888;" href="https://scratch.mit.edu/users/atfsmedia25/" target="_blank">atfsmedia25</a></p>
			</section>
		</div>
		<a href="https://animtred67pe.github.io/introtry9/" title="Go To SEATGERY Website" style="position:fixed; bottom: 10px; right: 10px; width:50px; height: 50px; background-size: 100%; opacity: 0.8; border-radius: 50%; background-image: url(data:image/png;base64,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)"></a>
		<script src="common.js"></script>
		<script src="pinkfie_logo.js"></script>
		<script src="pinkfie.js"></script>
		<script src="swfexamples.js"></script>
		<script>
			(function() {
				function querySelector(selector) {
					var el = document.querySelector(selector);
					if (!el) {
						throw new Error('Selector returned nothing: ' + selector);
					}
					return el;
				}

    			var initialTitle = document.title;

				var player = new PinkFie.Player();
				var swfeArea = document.getElementById('swfeArea');

				window.player = player;

				var fvolumeff = document.getElementById('fvolumeff');

				var demo = document.getElementById("demo");
				var ggtitle5 = document.getElementById("ggtitle5");
				var pinkfiemenu = document.getElementById('pinkfiemenu');

				var pinkfiestage = document.getElementById('pinkfiestage');
				var clickswfe = document.getElementById('clickswfe');

				var viewbbb2 = document.getElementById('viewbbb2');
				var viewbbb3 = document.getElementById('viewbbb3');
				var ssag2 = document.getElementById('ssag2');
				var playerArea = document.getElementById('pinkfieplayerarea');

				playerArea.appendChild(player.root);
				fvolumeff.addEventListener('input', function (e) {
					player.setOptions({
						volume: (+fvolumeff.value)
					});
				});

				player.setOptions(Common.playerOptions);
				if (!Common.autoplay) {
					player.setOptions({
						autoplayPolicy: 'never'
					});
				}
				
				player.onoptionschange.subscribe(function(o) {
					fvolumeff.value = player.getOptions().volume;
				});

				fvolumeff.value = player.getOptions().volume;

				function showSwf() {

					var resultswf = player.stage.swf;
					var dfgfd = "<h3>SWF Info</h3>";
					var stageSize = resultswf.movieInfo.bounds;

					/*
						Uncompressed Length
						SWF Version
						FP Version
						ActionScript 3
						Total Frames
						Frame Rate
						SWF Width
						SWF Height
						SWF Background Color
					*/

					dfgfd += "compression: " + resultswf.header.compression;
					dfgfd += " version: " + resultswf.header.version;
					dfgfd += " uncompressed length: " + resultswf.header.uncompressedLength + "<br>";

					dfgfd += "resolution: " + ((stageSize.xMax - stageSize.xMin) / 20);
					dfgfd += "x" + ((stageSize.yMax - stageSize.yMin) / 20);
					dfgfd += " frame rate: " + resultswf.movieInfo.frameRate;
					dfgfd += " total frames: " + resultswf.movieInfo.numFrames + "";

					//dfgfd += " SWF Background Color: " + resultswf.movieInfo.numFrames + "";

					demo.innerHTML = dfgfd;
					demo.style.display = "";

					var soundsC = player.stage.audio.getCompressSound();
					var videosC = player.stage.getCompressVideo();

					demo.title = "ActionScript 3: " +
						player.stage.isActionScript3() +
						(soundsC.length ? (" Sounds Compressions: " + soundsC.join(",")) : "") + (videosC.length ? (" Videos Codec: " + videosC.join(",")) : "") + " DisplayObject Types: " +
						(player.stage.getDisplayTypes().join(",") || "entry");
				}

				viewbbb2.onclick = function () {
					player.toggleRunning();
				}
				viewbbb3.onclick = function () {
					player.showSetting();
				}
				function oohid() {
					document.title = initialTitle;
					pinkfiestage.style.display = "none";
					demo.innerHTML = '';
					demo.style.display = "none";
					pinkfiemenu.style.display = "";
					ggtitle5.textContent = "";
					player.cleanup();
				}
				ssag2.onclick = function () {
					oohid();
				}
				//setNextFrame
				player.onload.subscribe(function() {
					showSwf();
				})
				player.onerror.subscribe(function(e) {
					
				});
				
				function dropHandler(ev) {
					ev.preventDefault();
					if (ev.dataTransfer.items) {
						[...ev.dataTransfer.items].forEach((item, i) => {
						if (item.kind === 'file') {
							const file = item.getAsFile();
							loadSwfFile(file);
						}
						});
					}
				}
				function dragOverHandler(ev) {
					ev.preventDefault();
				}

				window.ondrop = dropHandler;
				window.ondragover = dragOverHandler;

				function loadSwfFile(file) {
					document.title = initialTitle;
					pinkfiestage.style.display = "";
					pinkfiemenu.style.display = "none";
					demo.innerHTML = '';
					demo.style.display = "none";
					var gGs = (file.name || "").split(".");
					var typS = gGs.pop();
					ggtitle5.textContent = (gGs.join(".")).slice(0, 65) + "." + typS;

					player.loadSwfFromFile(file);
				}

				function loadSwfURL(url) {
					document.title = initialTitle;
					pinkfiestage.style.display = "";
					pinkfiemenu.style.display = "none";
					demo.style.display = "none";
					demo.innerHTML = '';
					ggtitle5.textContent = "";

					player.loadSwfFromURL(url);
				}

				function loadSampleSWF(infoSample) {
					var name = infoSample.name;
					if (infoSample.playerOptions) player.setOptions(infoSample.playerOptions);
					if (infoSample.md5) {
						loadSwfURL(infoSample.md5.split("_"));
					} else if (infoSample.url) {
						loadSwfURL(infoSample.url);
					} else if (infoSample.file) {
						loadSwfFile(infoSample.file);
					}
              		document.title = name + ' - PinkFie';
				}

				function downloadPinkFieOldVersions() {
					var xhr = new XMLHttpRequest();
					xhr.onload = function() {
						var uint8 = new Uint8Array(xhr.response, 0x2c);
						var zipblob = new Blob([uint8]);
						var a = document.createElement("a");
						a.href = URL.createObjectURL(zipblob);
						a.download = "pinkfie old versions.zip";
						a.click();
					}
					xhr.responseType = "arraybuffer";
					xhr.open("GET", "https://assets.scratch.mit.edu/internalapi/asset/6a0428c12460239cf41936031490e09e.wav/get/");
					xhr.send();
				}

				var downloadPinkFieOldButton = document.getElementById("downloadoldpinkfie");
				downloadPinkFieOldButton.onclick = downloadPinkFieOldVersions;

				var sef = new SWFE(pinkfieSampleSWF);
				sef.root.style.display = "none";
				swfeArea.appendChild(sef.root);

				clickswfe.onclick = function() {
					if (sef.root.style.display == "none") {
						sef.root.style.display = "";
						sef.load();
					} else {
						sef.root.style.display = "none";
					}
				}
				
				if (Common.swfexamples) {
					sef.root.style.display = "";
					sef.load();
				}

				sef.onclick = function(gd) {
					//sef.root.style.display = "none";
					loadSampleSWF(gd);
					ggtitle5.textContent = gd.name.slice(0, 60);
				}

				function getDefaultDarkMode() {
					return window.matchMedia('(prefers-color-scheme: dark)').matches;
				}

				/** Dark Mode **/
				function getLocalDarkMode() {
					try {
						const value = localStorage.getItem('userPrefersDark');
						if (!value) {
						// value is undefined or null
							return getDefaultDarkMode();
						}
						// value is the string 'true' or the string 'false'
						return value === 'true';
					} catch (e) {
						console.log('error getting local color choice', e);
						return false;
					}
				}

				function setDarkMode(dark) {
					if (dark) {
						document.documentElement.classList.add('dark');
					} else {
						document.documentElement.classList.remove('dark');
					}
					try {
						return localStorage.setItem('userPrefersDark', dark);
					} catch (e) {
						console.log('error saving color choice', e);
					}
				}

				setDarkMode(getLocalDarkMode());

				function toggleDarkMode(dark) {
					setDarkMode(!document.documentElement.classList.contains('dark'));
				}
				querySelector('.theme-select a').addEventListener('click', function() {
					toggleDarkMode();
				});

				if (Common.swfUrl) {
					loadSwfURL(Common.swfUrl);
				}
				
				var loadprojectfile = document.getElementById('loadswffile');
				loadprojectfile.onclick = function() {
					var sa = document.createElement('input');
					sa.type = 'file';
					sa.accept = '.swf';
					sa.addEventListener('change', function(e) {
						var file = e.target.files[0];
						if (!file) {
							return;
						}
						loadSwfFile(file);
					}, false);
					sa.click();
				}
			}());
		</script>
    </body>
</html>